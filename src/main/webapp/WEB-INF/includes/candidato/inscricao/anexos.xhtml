<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">

    <o:importConstants type="br.com.simetrya.secitec.model.enums.TipoAnexo"
                       var="TipoAnexo"/>

    <p:outputPanel styleClass="ui-g ui-fluid" id="anexoPanel" autoUpdate="true">
        <p:outputPanel styleClass="ui-g-12">
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <p:panel>
                    <h:outputLabel rendered="#{!controllerAnexo.checkBox1}">
                        <i class="fa fa-exclamation-circle color-icon-exclamation-upload"/>
                    </h:outputLabel>
                    <h:outputLabel rendered="#{controllerAnexo.checkBox1}">
                        <i class="fa fa-check-circle color-icon-check-upload"/>
                    </h:outputLabel>
                    <h:outputText
                            value="#{TipoAnexo.COMPROVANTE_DE_HABILITACAO.descricao}"/>
                    <div class="EmptyBox10"/>
                    <p:commandButton icon="white fa fa-upload" value="Enviar"
                                     action="#{controllerAnexo.actionCallTipo('COMPROVANTE_DE_HABILITACAO')}"/>
                </p:panel>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <p:panel>
                    <h:outputLabel rendered="#{!controllerAnexo.checkBox2}">
                        <i class="fa fa-exclamation-circle color-icon-exclamation-upload"/>
                    </h:outputLabel>
                    <h:outputLabel rendered="#{controllerAnexo.checkBox2}">
                        <i class="fa fa-check-circle color-icon-check-upload"/>
                    </h:outputLabel>

                    <h:outputText value="#{TipoAnexo.CPF.descricao}"/>
                    <div class="EmptyBox50"/>
                    <p:commandButton icon="white fa fa-upload" value="Enviar" update="subView3:dlgUpCPF"
                                     action="#{controllerAnexo.actionCallTipo('CPF')}"/>
                </p:panel>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <p:panel>
                    <h:outputLabel rendered="#{!controllerAnexo.checkBox3}">
                        <i class="fa fa-exclamation-circle color-icon-exclamation-upload"/>
                    </h:outputLabel>
                    <h:outputLabel rendered="#{controllerAnexo.checkBox3}">
                        <i class="fa fa-check-circle color-icon-check-upload"/>
                    </h:outputLabel>

                    <h:outputText value="#{TipoAnexo.RG.descricao}"/>
                    <div class="EmptyBox50"/>
                    <p:commandButton icon="white fa fa-upload" value="Enviar" update="subView3:dlgUpRG"
                                     action="#{controllerAnexo.actionCallTipo('RG')}"/>
                </p:panel>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <p:panel>
                    <h:outputLabel rendered="#{!controllerAnexo.checkBox4}">
                        <i class="fa fa-exclamation-circle color-icon-exclamation-upload"/>
                    </h:outputLabel>
                    <h:outputLabel rendered="#{controllerAnexo.checkBox4}">
                        <i class="fa fa-check-circle color-icon-check-upload"/>
                    </h:outputLabel>

                    <h:outputText value="#{TipoAnexo.CURRICULUM.descricao}"/>
                    <div class="EmptyBox30"/>
                    <p:commandButton icon="white fa fa-upload" value="Enviar"
                                     action="#{controllerAnexo.actionCallTipo('CURRICULUM')}"/>
                </p:panel>
            </div>
        </p:outputPanel>

        <p:outputPanel styleClass="ui-g-12">
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <p:panel>
                    <h:outputLabel rendered="#{!controllerAnexo.checkBox5}">
                        <i class="fa fa-exclamation-circle color-icon-exclamation-upload"/>
                    </h:outputLabel>
                    <h:outputLabel rendered="#{controllerAnexo.checkBox5}">
                        <i class="fa fa-check-circle color-icon-check-upload"/>
                    </h:outputLabel>

                    <h:outputText
                            value="#{TipoAnexo.COMPROVANTE_EXPERIENCIA_PROFISSIONAL.descricao}"/>
                    <div class="EmptyBox50"/>
                    <p:commandButton icon="white fa fa-upload" value="Enviar"
                                     action="#{controllerAnexo.actionCallTipo('COMPROVANTE_EXPERIENCIA_PROFISSIONAL')}"/>
                </p:panel>
            </div>
        </p:outputPanel>

        <p:outputPanel styleClass="ui-g-12">
            <p:dataTable id="dt_anexos"
                         rendered="#{not empty controllerAnexo.documentosAnexados}"
                         value="#{controllerAnexo.documentosAnexados}" var="a"
                         emptyMessage="Nenhum documento anexado.">
                <p:column headerText="Descrição">
                    <h:outputText value="#{a.descricao}"/>
                </p:column>

                <p:column headerText="Tipo de Anexo">
                    <h:outputText value="#{a.tipoAnexo}"/>
                </p:column>

                <p:column headerText="Ações" width="15%" style="text-align: center;">
                    <p:commandLink style="text-decoration:none;" styleClass="icon-trash Fs16" update="dt_anexos"
                                   actionListener="#{controllerAnexo.removeAnexoDataTable(a)}"/>

                </p:column>
            </p:dataTable>
        </p:outputPanel>

    </p:outputPanel>

    <p:dialog id="dlgUpload" widgetVar="dlgUpload" modal="true" responsive="true">
        <p:fileUpload id="carregarDocumentos" mode="advanced"
                      oncomplete="PF('dlgUpload').hide();"
                      invalidFileMessage="Arquivo inválido!" skinSimple="true"
                      label="Procurar" uploadLabel="Anexar" cancelLabel="Cancelar"
                      invalidSizeMessage="Tamanho inválido!"
                      allowTypes="/(\.|\/)(jpe?g|png|doc?x|pdf|txt)$/"
                      update="dt_anexos, carregarDocumentos, anexoPanel"
                      fileLimitMessage="Número máximo de arquivos excedidos."
                      fileUploadListener="#{controllerAnexo.upload}"/>
    </p:dialog>

    <p:dialog id="dlgUpCPF" widgetVar="dlgUpCPF" modal="true" responsive="true">
        <p:fileUpload id="cpfFileUpload" mode="advanced" skinSimple="true"
                      label="Procurar" uploadLabel="Anexar" cancelLabel="Cancelar"
                      oncomplete="PF('dlgUpCPF').hide();"
                      invalidFileMessage="Arquivo inválido!"
                      invalidSizeMessage="Tamanho inválido!"
                      allowTypes="/(\.|\/)(jpe?g|png|doc?x|pdf|txt)$/" fileLimit="1"
                      update="dt_anexos, carregarDocumentos, anexoPanel"
                      fileLimitMessage="Número máximo de arquivos excedidos."
                      fileUploadListener="#{controllerAnexo.upload}"/>
    </p:dialog>

    <p:dialog id="dlgUpRG" widgetVar="dlgUpRG" modal="true" responsive="true">
        <p:fileUpload id="rgFileUpload" mode="advanced" skinSimple="true"
                      label="Procurar" uploadLabel="Anexar" cancelLabel="Cancelar"
                      oncomplete="PF('dlgUpRG').hide();"
                      invalidFileMessage="Arquivo inválido!"
                      invalidSizeMessage="Tamanho inválido!"
                      allowTypes="/(\.|\/)(jpe?g|png|doc?x|pdf|txt)$/" fileLimit="1"
                      update="dt_anexos, carregarDocumentos, anexoPanel"
                      fileLimitMessage="Número máximo de arquivos excedidos."
                      fileUploadListener="#{controllerAnexo.upload}"/>
    </p:dialog>

    <div class="EmptyBox5"/>
    <p:separator></p:separator>
    <div class="ui-g">
        <div class="ui-g-12 ui-md-4 ui-lg-2">
            <p:commandButton value="Anterior" update="@form" process="@this"
                             actionListener="#{controllerCadastroInscricao.podeMostrarDadosPessoais()}"/>
        </div>
        <div class="ui-g-12 ui-md-4 ui-lg-8"/>
        <div class="ui-g-12 ui-md-4 ui-lg-2">
            <p:commandButton value="Finalizar" process="@form" update="@form" styleClass="GreenButton"
                             onstart="PF('carregando').show();"
                             oncomplete="PF('carregando').hide();return false;"
                             action="#{controllerCadastroInscricao.finalizar()}">
                <f:setPropertyActionListener
                        value="#{controllerAnexo.documentosAnexados}"
                        target="#{controllerCadastroInscricao.inscricao.anexos}"/>
                <f:setPropertyActionListener
                        value="#{controllerProcessoSeletivo.processoSeletivo}"
                        target="#{controllerCadastroInscricao.inscricao.processoSeletivo}"/>
                <f:setPropertyActionListener
                        value="#{controllerProcessoSeletivo.municipio}"
                        target="#{controllerCadastroInscricao.inscricao.municipio}"/>
                <f:setPropertyActionListener
                        value="#{controllerProcessoSeletivo.perfilProfissional}"
                        target="#{controllerCadastroInscricao.inscricao.perfilProfissional}"/>
            </p:commandButton>
        </div>
    </div>


    <p:dialog id="dlSucessoSalvar" widgetVar="dialogSucessoSalvar"
              modal="true" responsive="true" closable="true" resizable="false"
              showHeader="false">
        <div class="ui-g">
            <div class="ui-g-12 ui-md-12 ui-lg-12">
				<span class="sim-text-color-blue FontBold"> <i
                        class="icon-info-circled sim-text-color-blue"/> Inscrição
					realizada com sucesso! Nº Inscrição
                    #{controllerCadastroInscricao.inscricao.numero}
				</span>
            </div>
        </div>

        <div class="ui-g">
            <div class="ui-g-12 ui-md-3 ui-lg-3"/>
            <div class="ui-g-12 ui-md-6 ui-lg-6">
                <p:button value="Ok" outcome="/candidato/pagina-inicial"/>
            </div>
            <div class="ui-g-12 ui-md-3 ui-lg-3"/>
        </div>
    </p:dialog>

    <p:dialog widgetVar="mensagemConfirmacao" modal="true"
              responsive="true" closable="true" resizable="false" showHeader="false">
        <div class="ui-g">
            <div class="ui-g-12 ui-md-12 ui-lg-12">
				<span class="FontBold"> <i class="icon-info-circled"/> Você
					já possui uma inscrição para este Processo Seletivo. Se realizar
					uma nova a anterior será cancelada, deseja continuar?
				</span>
            </div>
        </div>

        <div class="ui-g">
            <div class="ui-g-12 ui-md-1 ui-lg-3"/>
            <div class="ui-g-12 ui-md-5 ui-lg-3">
                <p:commandButton value="Sim" onstart="PF('carregando').show();"
                                 oncomplete="PF('carregando').hide();PF('mensagemConfirmacao').hide();PF('dialogSucessoSalvar').show();return false;"
                                 update="dlSucessoSalvar"
                                 action="#{controllerCadastroInscricao.realizarInscricao()}">
                    <f:setPropertyActionListener value="true"
                                                 target="#{controllerCadastroInscricao.podeCancelarInscricaoAnterior}"/>
                </p:commandButton>
            </div>
            <div class="ui-g-12 ui-md-5 ui-lg-3">
                <p:commandButton value="Não" process="@this" update="@form"
                                 oncomplete="PF('mensagemConfirmacao').hide();PF('carregando').hide();return false;"/>
            </div>
            <div class="ui-g-12 ui-md-1 ui-lg-3"/>
        </div>
    </p:dialog>

    <p:dialog widgetVar="carregando" modal="true" responsive="true"
              closable="true" resizable="false" showHeader="false">
        <div class="ui-g">
            <div class="ui-g-12">
                <p:graphicImage library="images" name="barra_carregando.gif"/>
            </div>
        </div>
    </p:dialog>

</ui:composition>